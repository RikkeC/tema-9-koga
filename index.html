<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Koga center</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,800|Open+Sans:400,700,800&display=swap" rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="myIcons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="myIcons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="myIcons/favicon-16x16.png">
    <link rel="manifest" href="myIcons/site.webmanifest">
    <link rel="shortcut icon" href="myIcons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="myIcons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <link href="https://fonts.googleapis.com/css?family=Anton&display=swap" rel="stylesheet">
    <!--
    <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:800&display=swap" rel="stylesheet">
-->
</head>

<body>
    <header></header>

    <main id="forside">
        <section id="splash_container">
            <div class="splash_text">
                <h1>Velkommen til Koga Center Copenhagen</h1>
            </div>
            <a href="#forside_slides"><a href="#forside_grid"><span></span></a></a>
        </section>

        <!--slideshow til kategories-->
        <section id="forside_slides">
            <h1 class="overskrift">Kogas cykeltyper</h1>
            <div class="kat_container">
                <div class="kat_slide">
                    <div class="enkat_wrapper">
                        <div class="labelKat">
                            <!--                            <a href="cykler.html">-->
                            <h2 class="navnKat"></h2>
                            <!--                            </a>-->
                        </div>
                        <img class="katbillede" src="" alt="">
                    </div>

                </div>
                <!-- Next and previous buttons -->
                <a class="katvenstre">&#10094;</a>
                <a class="kathoejre">&#10095;</a>
            </div>
        </section>

        <section id="forside_grid">
            <h1 class="overskrift">Kogas cykeltyper</h1>
            <div class="kats_container">

                <div class="kat_container">
                    <a href="cykler.html#by-cykler">
                        <img class="kat1_img" src="forside-grid/bycykel-1.jpg" alt="citycykler">
                        <div class="grid_label">
                            <h4>Bycykler</h4>
                        </div>
                    </a>
                </div>

                <div class="kat_container">
                    <a href="cykler.html#el-cykler">
                        <img class="kat2_img" src="forside-grid/elcykel-1.jpg" alt="elcykler">
                        <div class="grid_label">
                            <h4>El Cykler</h4>
                        </div>
                    </a>
                </div>

                <div class="kat_container">
                    <a href="cykler.html#racer-cykler">
                        <img class="kat3_img" src="forside-grid/racer-1.jpg" alt="racercykler">
                        <div class="grid_label">
                            <h4>Racer cykler</h4>
                        </div>
                    </a>
                </div>

                <div class="kat_container">
                    <a href="cykler.html#trekking-cykler">
                        <img class="kat4_img" src="forside-grid/trekking-1.jpg" alt="trekkingcykler">
                        <div class="grid_label">
                            <h4>Trekking</h4>
                        </div>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <footer>
    </footer>
    <script src="script.js"></script>

    <script>
        const urlKat = "https://jenniferjaque.dk/kea/2-semester/tema9/koga/wordpress/wp-json/wp/v2/cykelkategorier";
        let kategorier = [];
        let galleri_taeller = 0;

        document.addEventListener("DOMContentLoaded", start);

        function start() {
            hentJson();
            document.querySelector(".katvenstre").addEventListener("click", klikPrev);
            document.querySelector(".kathoejre").addEventListener("click", klikNext);
        }

        async function hentJson() {
            const response = await fetch(urlKat);
            console.log(response);
            kategorier = await response.json();
            console.log(kategorier);

            klikNext();
        }

        function klikNext() {
            console.log(klikNext);
            if (galleri_taeller == kategorier.length) {
                galleri_taeller = 0;
            }

            galleri_taeller++;
            document.querySelector(".navnKat").textContent = kategorier[galleri_taeller].name;
            document.querySelector(".katbillede").src = kategorier[galleri_taeller].billeder.guid;
            document.querySelector(".labelKat").addEventListener("click", () => {
                location.href = "cykler.html#" + kategorier[galleri_taeller].slug;
            });
        }

        function klikPrev() {
            console.log(klikPrev);
            galleri_taeller--;
            if (galleri_taeller < 0) {
                galleri_taeller = kategorier.length - 1;
            }
            document.querySelector(".navnKat").textContent = kategorier[galleri_taeller].name;
            document.querySelector(".katbillede").src = kategorier[galleri_taeller].billeder.guid;
            document.querySelector(".labelKat").addEventListener("click", () => {
                location.href = "cykler.html#" + kategorier[galleri_taeller].slug;
            });
        }
    </script>

</body></html>
